[{
	"name":"OrderManagementIP",
	"version":"1",
	"typeProcessors":{
		"{urn:switchyard-quickstart-demo:orders:1.0}submitOrder":{
			"contexts":[{
				"type":"Conversation",
				"evaluator":{
					"type":"xpath",
					"expression":"order/orderId"
				}
			}],
			"properties":[{
				"name":"customer",
				"evaluator":{
					"type":"xpath",
					"expression":"order/customer"
				}
			},{
				"name":"item",
				"evaluator":{
					"type":"xpath",
					"expression":"order/itemId"
				}
			},{
				"name":"contentType",
				"header":"org.switchyard.contentType",
				"evaluator":{
					"type":"mvel",
					"expression":"toString()"
				}
			},{
                "name":"orderId",
                "evaluator":{
                    "type":"xpath",
                    "expression":"order/orderId"
                }
            }],
			"transformer":{
				"type":"serialize"
			}
		},
		"{urn:switchyard-quickstart-demo:orders:1.0}submitOrderResponse":{
			"contexts":[{
				"type":"Conversation",
				"evaluator":{
					"type":"xpath",
					"expression":"orderAck/orderId"
				}
			}],
			"properties":[{
				"name":"customer",
				"evaluator":{
					"type":"xpath",
					"expression":"orderAck/customer"
				}
			},{
				"name":"total",
				"evaluator":{
					"type":"xpath",
					"expression":"orderAck/total"
				}
			},{
                "name":"orderId",
                "evaluator":{
                    "type":"xpath",
                    "expression":"orderAck/orderId"
                }
            }]
		},
		"org.overlord.rtgov.quickstarts.demos.orders.Order":{
			"contexts":[{
				"type":"Conversation",
				"evaluator":{
					"type":"mvel",
					"expression":"orderId"
				}
			}],
			"properties":[{
				"name":"customer",
				"evaluator":{
					"type":"mvel",
					"expression":"customer"
				}
			},{
				"name":"itemId",
				"evaluator":{
					"type":"mvel",
					"expression":"itemId"
				}
			}]
		},
        "org.overlord.rtgov.quickstarts.demos.orders.FundCheck":{
            "contexts":[{
                "type":"Conversation",
                "evaluator":{
                    "type":"mvel",
                    "expression":"order.orderId"
                }
            }],
            "properties":[{
                "name":"customer",
                "evaluator":{
                    "type":"mvel",
                    "expression":"order.customer"
                }
            },{
                "name":"itemId",
                "evaluator":{
                    "type":"mvel",
                    "expression":"item.itemId"
                }
            }]
        },
		"org.overlord.rtgov.quickstarts.demos.orders.OrderAck":{
			"contexts":[{
				"type":"Conversation",
				"evaluator":{
					"type":"mvel",
					"expression":"orderId"
				}
			}],
			"properties":[{
				"name":"customer",
				"evaluator":{
					"type":"mvel",
					"expression":"customer"
				}
			},{
				"name":"total",
				"evaluator":{
					"type":"mvel",
					"expression":"total"
				}
			}]
		},
		"{urn:switchyard-quickstart-demo:orders:1.0}makePayment":{
			"properties":[{
				"name":"customer",
				"evaluator":{
					"type":"xpath",
					"expression":"payment/customer"
				}
			},{
				"name":"amount",
				"evaluator":{
					"type":"xpath",
					"expression":"payment/amount"
				}
			}]
		},
		"{urn:switchyard-quickstart-demo:orders:1.0}makePaymentResponse":{
			"properties":[{
				"name":"customer",
				"evaluator":{
					"type":"xpath",
					"expression":"receipt/customer"
				}
			},{
				"name":"amount",
				"evaluator":{
					"type":"xpath",
					"expression":"receipt/amount"
				}
			}]
		},
		"org.overlord.rtgov.quickstarts.demos.orders.Receipt":{
			"properties":[{
				"name":"customer",
				"evaluator":{
					"type":"mvel",
					"expression":"customer"
				}
			},{
				"name":"amount",
				"evaluator":{
					"type":"mvel",
					"expression":"amount"
				}
			}]
		},
        "org.overlord.rtgov.quickstarts.demos.orders.DeliveryAck":{
            "contexts":[{
                "type":"Conversation",
                "evaluator":{
                    "type":"mvel",
                    "expression":"orderId"
                }
            }]
        },
		"org.overlord.rtgov.quickstarts.demos.orders.ItemNotFoundException":{
			"script":{
				"type":"mvel",
				"expression":"activity.fault = \"ItemNotFound\""
			}
		},
        "org.overlord.rtgov.quickstarts.demos.orders.InsufficientFundsException":{
            "script":{
                "type":"mvel",
                "expression":"activity.fault = \"InsufficientFunds\""
            }


        }

	}
}]